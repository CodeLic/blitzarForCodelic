<template>
  <q-btn class="ef-btn" v-bind="quasarProps" v-on="$listeners" />
</template>

<script>
import { merge } from 'merge-anything'
import { QBtn } from 'quasar'

/**
### usage

EfBtn is a component that's registered for you; alongside EasyForm and EasyField.
You can use it like:
- `<EfBtn />` as standalone
- `<EasyField component="EfBtn" />` inside a field (with label & sublabel)
- in an EasyForm "schema" like so: `component: 'EfBtn'`

### description

EfBtn is a wrapper around QBtn. The only differences are:

- you can pass the button label as `btnLabel` (this is required because when using QBtn it will always use the same label as your field label)
- it defaults to `color: primary` which is nice ðŸ˜„

All other props/attributes are passed on.`,
 */
export default {
  components: { QBtn },
  name: 'EfBtn',
  inheritAttrs: false,
  props: {
    // prop categories: behavior content general model state style
    // EF props:
    /**
     * `btnLabel` is the button's "label". (`label` on the other hand is used for the field label of `<EasyField />`)
     * @category content
     */
    btnLabel: { type: String },
    // Quasar props with modified defaults:
    /**
     * @category inheritedProp
     */
    color: { type: String, default: 'primary', inheritedProp: 'modified' },
    // Quasar props with modified behavior:
  },
  computed: {
    quasarProps() {
      return merge(this.$attrs, {
        // Quasar props with modified defaults:
        color: this.color,
        // Quasar props with modified behavior:
        label: this.btnLabel || this.$attrs.label,
      })
    },
  },
  methods: {},
}
</script>
